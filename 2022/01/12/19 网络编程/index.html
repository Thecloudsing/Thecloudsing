<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>&lt;Java&gt;19 网络编程 | Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="19 网络编程网络通信：两台设备之间通过网络实现数据传输。 java.net 包下提供了一系列类或接口，供程序员使用，完成网络通信 19.1 网络的相关概念网络 网络：两台或多台设备通过一定物理设备连接起来构成了网络 根据网络覆盖范围的不同，对网络进行分类：  局域网：覆盖范围最小，仅覆盖一个教室·机房 城域网：覆盖范围较大，可覆盖一个城市 广域网：覆盖范围最大，可以覆盖全国，甚至全球。万维网 是">
<meta property="og:type" content="article">
<meta property="og:title" content="&lt;Java&gt;19 网络编程">
<meta property="og:url" content="http://example.com/2022/01/12/19%20%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="19 网络编程网络通信：两台设备之间通过网络实现数据传输。 java.net 包下提供了一系列类或接口，供程序员使用，完成网络通信 19.1 网络的相关概念网络 网络：两台或多台设备通过一定物理设备连接起来构成了网络 根据网络覆盖范围的不同，对网络进行分类：  局域网：覆盖范围最小，仅覆盖一个教室·机房 城域网：覆盖范围较大，可覆盖一个城市 广域网：覆盖范围最大，可以覆盖全国，甚至全球。万维网 是">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/img/Java_InputImage/%E5%AD%90%E7%BD%91%E6%8E%A9%E7%A0%81%E5%9B%BE_19.1.png">
<meta property="og:image" content="http://example.com/img/Java_InputImage/%E5%AD%90%E7%BD%91%E5%9B%BE_19.1.png">
<meta property="og:image" content="http://example.com/img/Java_InputImage/%E6%95%B0%E6%8D%AE%E5%B0%81%E8%A3%85%E5%9B%BE_19.1.png">
<meta property="article:published_time" content="2022-01-11T16:00:00.000Z">
<meta property="article:modified_time" content="2022-07-07T05:00:37.438Z">
<meta property="article:author" content="John Doe">
<meta property="article:tag" content="Java">
<meta property="article:tag" content="笔记">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/img/Java_InputImage/%E5%AD%90%E7%BD%91%E6%8E%A9%E7%A0%81%E5%9B%BE_19.1.png">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-19 网络编程" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/01/12/19%20%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/" class="article-date">
  <time class="dt-published" datetime="2022-01-11T16:00:00.000Z" itemprop="datePublished">2022-01-12</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Java/">Java</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      &lt;Java&gt;19 网络编程
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="19-网络编程"><a href="#19-网络编程" class="headerlink" title="19 网络编程"></a>19 网络编程</h1><p>网络通信：两台设备之间通过网络实现数据传输。</p>
<p><code>java.net</code> 包下提供了一系列类或接口，供程序员使用，完成网络通信</p>
<h2 id="19-1-网络的相关概念"><a href="#19-1-网络的相关概念" class="headerlink" title="19.1 网络的相关概念"></a>19.1 网络的相关概念</h2><p><strong>网络</strong></p>
<p>网络：两台或多台设备通过一定物理设备连接起来构成了网络</p>
<p>根据网络覆盖范围的不同，对网络进行分类：</p>
<ul>
<li>局域网：覆盖范围最小，仅覆盖一个教室·机房</li>
<li>城域网：覆盖范围较大，可覆盖一个城市</li>
<li>广域网：覆盖范围最大，可以覆盖全国，甚至全球。万维网 是广域网的代表</li>
</ul>
<p><strong>IP 地址</strong></p>
<p>IP 地址：用于唯一标识网络中的每台计算机 &#x2F; 主机</p>
<p>查看 IP 地址：<code>ipconfig</code></p>
<p>IPv4 是 4 个字节（32位）表示。每个字节范围是 [0,255]</p>
<p>IP 地址的表示形式：点分十进制（xx.xx.xx.xx），每个十进制数范围是 [0,255]</p>
<p>IP 地址的组成 &#x3D; 网络地址 + 主机地址</p>
<ul>
<li>A类：0 + 7 位网络号 + 24 位主机号（0.0.0.0 ~ 127.255.255.255）</li>
<li>B类：1 + 0 + 14 位网络号 + 16 位主机号（128.0.0.0 ~ 191.255.255.255）</li>
<li>C类：1 + 1 + 0 + 21 位网络号 + 8 位主机号（192.0.0.0 ~ 223.255.255.255）</li>
<li>D类：1 + 1 + 1 + 0 + 28 位多播组号（224.0.0.0 ~ 239.255.255.255）</li>
<li>E类：1 + 1 + 1 + 1 + 0 + 27 位（留待后用）（240.0.0.0 ~ 247.255.255.255）</li>
</ul>
<p>IPv6 是互联网工程任务组设计的用于替代 IPv4 的下一代 IP 协议。其地址数量可以为全世界每一粒沙子编上一个地址</p>
<p>IPv4 最大的问题在于网络地址资源有限，严重制约了互联网的应用和发展。IPv6 的使用，不仅能解决网络地址资源数量的问题，也解决了多种接入设备接入互联网的障碍</p>
<p>IPv6 使用 16 个字节（128 位）表示地址。</p>
<p>表示形式有：</p>
<ul>
<li><p>冒分十六进制表示法： （X:X:X:X:X:X:X:X）</p>
<p><code>:</code> 之间的部分，出现 0 开头的场合，那些 0 可以省略</p>
</li>
<li><p>0 位压缩表示法：把连续的 <code>0</code> 压缩为 <code>::</code>，这个压缩只能出现一次（X::X:X）</p>
</li>
<li><p>内嵌 IPv4 地址表示法：前 96位 用冒分十六进制表示，后面 32位 用 IPv4 的点分十进制（X:X:X:X:X:XX:d.d.d.d）</p>
</li>
</ul>
<p><strong>子网掩码</strong></p>
<p>只用一个 IP 地址，无法分辨网络部分与主机部分的分界线。因此，使用子网掩码来表示分界线。</p>
<p>这个场合，对应的网络部分的子网掩码的二进制数字设为 1</p>
<p><img src="/img/Java_InputImage/%E5%AD%90%E7%BD%91%E6%8E%A9%E7%A0%81%E5%9B%BE_19.1.png"><br><em>(子网掩码图_19.1)</em></p>
<p>此外，还能把子网掩码与 IP 地址组合</p>
<ul>
<li>在 IP 地址后加斜线及网络部分二进制数字数（IPV4）：192.168.15.1&#x2F;16</li>
<li>IPv6：X:X:X:X:X:X:X:X&#x2F;64</li>
</ul>
<p>通过更改子网掩码，可以细分网络为多个子网。</p>
<p><img src="/img/Java_InputImage/%E5%AD%90%E7%BD%91%E5%9B%BE_19.1.png"><br><em>(子网图_19.1)</em></p>
<p><strong>私有地址</strong></p>
<p>私有地址：与 IP 地址（全局地址）相比，在不同的网络中可以重复的地址。</p>
<p>私有地址是以下范围中的地址。这些地址不能作为全局地址使用：</p>
<ul>
<li>10.0.0.0 ~ 10.255.255.255</li>
<li>172.16.0.0 ~ 172.31.255.255</li>
<li>192.168.0.0 ~ 192.168.255.255</li>
</ul>
<p>将私有地址连接到全局地址的方法：</p>
<ul>
<li>NAT：一种私有地址与全局地址一一对应的机制</li>
<li>NAPT：一种用一个全局地址连接多个计算机的机制</li>
</ul>
<p><strong>域名</strong></p>
<p>示例：<a target="_blank" rel="noopener" href="http://bbs.tianya.cn/post-house-252774-1.shtml">http://bbs.tianya.cn/post-house-252774-1.shtml</a></p>
<p>为了方便记忆，解决记忆 IP 的困难</p>
<p>IP 地址根据 HTTP 协议 映射成域名</p>
<p>通过 DNS（Domain Name System）服务将域名转化为 IP 地址</p>
<p><strong>端口号</strong></p>
<p>用于标识计算机上某个特定的网络程序</p>
<p>表示形式：以整数形式，范围 [0,65535]</p>
<p>0 ~ 1024 已经被占用，不要使用。比如 ssh 22、ftp 21、smtp 25、http 80</p>
<p>常见的网络程序端口号：</p>
<ul>
<li>tomcat：8080</li>
<li>mysql：3306</li>
<li>oracle：1521</li>
<li>sqlserver：1433</li>
</ul>
<p><strong>网络通信协议</strong></p>
<p>协议（TCP&#x2F;IP）</p>
<p>TCP&#x2F;IP：传输控制协议 &#x2F; 因特网互联协议（Transmission Control Protocol &#x2F; Internet Protocol），又叫 网络通讯协议。这个协议是 Internet 最基本的协议、Internet 国际互联网络的基础。简单来讲，就是由 网络层的 IP 协议 和传输层的 TCP 协议 组成</p>
<p><img src="/img/Java_InputImage/%E6%95%B0%E6%8D%AE%E5%B0%81%E8%A3%85%E5%9B%BE_19.1.png"></p>
<p><em>(数据封装图_19.1)</em></p>
<table>
<thead>
<tr>
<th>OSI 模型（理论）</th>
<th>TCP&#x2F;IP 模型（实际使用）</th>
<th>TCP&#x2F;IP 模型各层对应协议</th>
</tr>
</thead>
<tbody><tr>
<td>应用层</td>
<td>应用层</td>
<td>HTTP、ftp、telent、DNS……</td>
</tr>
<tr>
<td>表示层</td>
<td>应用层</td>
<td>同上</td>
</tr>
<tr>
<td>会话层</td>
<td>应用层</td>
<td>同上</td>
</tr>
<tr>
<td>传输层</td>
<td>传输层（TCP）</td>
<td>TCP、UDP……</td>
</tr>
<tr>
<td>网络层</td>
<td>网络层（IP）</td>
<td>IP、ICMP、ARP……</td>
</tr>
<tr>
<td>数据链路层</td>
<td>物理 + 数据链路层</td>
<td>Link</td>
</tr>
<tr>
<td>物理层</td>
<td>物理 + 数据链路层</td>
<td>同上</td>
</tr>
</tbody></table>
<h3 id="19-1-1-TCP-和-UDP"><a href="#19-1-1-TCP-和-UDP" class="headerlink" title="19.1.1 TCP 和 UDP"></a>19.1.1 TCP 和 UDP</h3><p><strong>TCP</strong></p>
<p>传输控制协议</p>
<ol>
<li>使用 TCP 协议前，须先建立 TCP 连接，形成传输数据通道。TCP 通信是一对一通信</li>
<li>传输前，采用 “三次握手” 方式，是可靠的</li>
<li>TCP 协议进行通信的两个应用进程：客户端、服务端</li>
<li>在连接中可进行大数据量的传输。传输前，先确认要交流的数据量。那个数据量、数据窗口取较小方的数值。</li>
<li>发送方没有收到接收方的确认应答时，（在一定次数内）会再次发送数据包</li>
<li>传输完毕，需释放已建立的连接，效率低</li>
</ol>
<p><strong>UDP</strong></p>
<p>用户数据协议</p>
<ol>
<li>将 数据、源、目的 封装成数据包，不需要建立连接。可以同时向多个接收方发送</li>
<li>每个数据包大小限制在 64K 以内，不适合传输大量数据</li>
<li>因无需连接，所以是不可靠的</li>
<li>接收方无需发送确认应答</li>
<li>发送数据结束时无需释放资源（因为不是面向连接的），速度快</li>
</ol>
<h2 id="19-2-InetAddress-类"><a href="#19-2-InetAddress-类" class="headerlink" title="19.2 InetAddress 类"></a>19.2 <code>InetAddress</code> 类</h2><p><strong>相关方法</strong></p>
<ul>
<li><code>getLocalHost</code>：获取本机 <code>InetAddress</code> 对象</li>
<li><code>getByName</code>：根据指定主机名 &#x2F; 域名获取 IP 地址对象</li>
<li><code>getHostName</code>：获取 <code>InetAddress</code> 对象的主机名</li>
<li><code>getHostAddress</code>：获取 <code>InetAddress</code> 对象的地址</li>
</ul>
<h2 id="19-3-Socket"><a href="#19-3-Socket" class="headerlink" title="19.3 Socket"></a>19.3 Socket</h2><ol>
<li>套接字（Socket）开发网络应用程序被广泛采用，以至于成为了事实上的标准</li>
<li>通信的两端都要有 Socket，是两台机器间通信的端点</li>
<li>网络通信其实就是 Socket 间的通信</li>
<li>Socket 允许程序把网络连接当成一个流，数据在两个 Socket 间通过 IO 传输</li>
<li>一般主动发起通信的应用程序属于客户端，等待通信请求的为服务端</li>
</ol>
<h3 id="19-3-1-TCP-网络通信编程"><a href="#19-3-1-TCP-网络通信编程" class="headerlink" title="19.3.1 TCP 网络通信编程"></a>19.3.1 TCP 网络通信编程</h3><ol>
<li>基于客户端——服务端的网络通信</li>
<li>底层使用的是 TCP &#x2F; IP 协议</li>
<li>应用场景距离：客户端发送数据，服务端接收并显示</li>
<li>基于 Socket 的 TCP 编程</li>
</ol>
<p><strong>下面，示范一个 服务端</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">server</span><span class="params">()</span> <span class="keyword">throws</span> IOException&#123;</span><br><span class="line"> <span class="type">ServerSocket</span> <span class="variable">serverSocket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ServerSocket</span>(<span class="number">9000</span>);		<span class="comment">//[1]</span></span><br><span class="line"> <span class="type">Socket</span> <span class="variable">clientSocket</span> <span class="operator">=</span> serverSocket.accept();	   			<span class="comment">//[2]</span></span><br><span class="line"> <span class="comment">//下面是输入流，不解释了</span></span><br><span class="line"> <span class="type">InputStream</span> <span class="variable">inputStream</span> <span class="operator">=</span> clientSocket.getInputStream();</span><br><span class="line"> System.out.println(clientSocket.getInetAddress());</span><br><span class="line"> <span class="type">int</span> n;</span><br><span class="line"> <span class="type">byte</span>[] b = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line"> <span class="type">byte</span>[] B = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">0</span>];</span><br><span class="line"> <span class="keyword">while</span> ((n = inputStream.read(b, <span class="number">0</span>, <span class="number">1024</span>)) != -<span class="number">1</span>) &#123;</span><br><span class="line">     B = Arrays.copyOf(B, B.length + n);</span><br><span class="line">     <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">         B[B.length - n + i] = b[i];</span><br><span class="line">     &#125;</span><br><span class="line"> &#125;</span><br><span class="line"> serverSocket.close();										<span class="comment">//[3]</span></span><br><span class="line"> System.out.println(<span class="keyword">new</span> <span class="title class_">String</span>(B));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol>
<li><p><code>ServerSocket serverSocket = new ServerSocket(9000);</code></p>
<p>这个语句用以监听 9000 这个端口</p>
<p>细节：这里要求该端口没有被其他服务占用。</p>
</li>
<li><p><code>Socket clientSocket = serverSocket.accept();</code></p>
<p>这个语句用以接收连接的 <code>Socket</code>。没有连接时，程序会阻滞在这里</p>
<p>细节：此处 <code>accept()</code> 可以返回多个 <code>Socket</code>，即多并发</p>
</li>
<li><p><code>serverSocket.close();</code></p>
<p>结束后，务必关闭！</p>
</li>
</ol>
<p><strong>下面，示范一个客户端</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">client</span><span class="params">()</span> <span class="keyword">throws</span> IOException&#123;</span><br><span class="line"> <span class="type">String</span> <span class="variable">serverIP</span> <span class="operator">=</span> <span class="string">&quot;192.168.3.16&quot;</span>;								<span class="comment">//[1]</span></span><br><span class="line"> <span class="type">Socket</span> <span class="variable">socket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Socket</span>(serverIP, <span class="number">9000</span>);					<span class="comment">//[2]</span></span><br><span class="line"> <span class="type">OutputStream</span> <span class="variable">outputStream</span> <span class="operator">=</span> socket.getOutputStream();</span><br><span class="line"> outputStream.write(<span class="string">&quot;hello,Server!&quot;</span>.getBytes(StandardCharsets.UTF_8));</span><br><span class="line"> socket.shutdownOutput();										<span class="comment">//[3]</span></span><br><span class="line"> outputStream.close();</span><br><span class="line"> socket.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol>
<li><p>这个 IP 是我的本机地址。代表的是 服务端 地址</p>
</li>
<li><p><code>Socket socket = new Socket(serverIP, 9000);	</code></p>
<p>表示访问指定 IP 的 9000 端口</p>
</li>
<li><p><code>socket.shutdownOutput();	</code></p>
<p>这里是输出一个结束标记。若不如此做，socket 就不知道是否数据发送完成</p>
<p>特别的，由 字节流 输出的场合，<code>writer.newLine()</code> 可以替代结束标记。但是这个场合，接收必须是 <code>reader.readLine()</code></p>
</li>
</ol>
<h4 id="19-3-1-1-netstat-指令"><a href="#19-3-1-1-netstat-指令" class="headerlink" title="19.3.1.1 netstat 指令"></a>19.3.1.1 netstat 指令</h4><ol>
<li><p><code>netstat -an</code> 可以查看当前主机网络情况，包括端口监听情况和网络连接情况</p>
</li>
<li><p><code>netstat -an | more</code> 可以分页显示</p>
</li>
<li><p><code>netstat -anb</code> 可以显示占用端口的应用</p>
</li>
<li><p>要求在 dos 控制台下执行</p>
</li>
<li><p>Listening 表示某个端口在监听。</p>
<p>如果有一个外部程序连接到该端口，就会显示一条连接信息 Established</p>
</li>
</ol>
<h4 id="19-3-1-2-TCP-连接秘密"><a href="#19-3-1-2-TCP-连接秘密" class="headerlink" title="19.3.1.2 TCP 连接秘密"></a>19.3.1.2 TCP 连接秘密</h4><p><strong>当客户端连接到服务端后，实际上客户端也是通过一个端口和服务端进行通讯的。这个端口由 TCP&#x2F;IP 来分配，是不确定的，随机的。</strong></p>
<h3 id="19-3-2-UDP-网络通信编程"><a href="#19-3-2-UDP-网络通信编程" class="headerlink" title="19.3.2 UDP 网络通信编程"></a>19.3.2 UDP 网络通信编程</h3><ol>
<li>类 <code>DatagramSocket</code> 和 <code>DatagramPacket</code> 实现了基于 UDP 协议网络程序</li>
<li>没有明确的服务端和客户端，演变成数据的发送端和接收端</li>
<li>UDP 数据报通过数据报套接字 <code>DatagramSocket</code> 发送和接收。系统不保证 UDP 数据报一定能安全送到目的地，也不能确定什么时候能抵达</li>
<li><code>DatagramPacket</code> 对象封装了 UDP 数据报，在数据报中包含了发送端的 IP 地址和端口号以及接收端的 IP 地址和端口号</li>
<li>接收到 <code>DtagramPacket</code> 对象时，需要进行拆包，取出数据</li>
<li><code>DatagramSocket</code> 可以指定在哪个端口接收数据</li>
<li>UDP 协议中每个数据报都给出了完整的地址信息，因此无需发送方和接收方的连接</li>
</ol>
<p><strong>下面，示范一个接收端</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">DatagramSocket</span> <span class="variable">ds</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DatagramSocket</span>(<span class="number">9000</span>);					<span class="comment">//[1]</span></span><br><span class="line"><span class="type">byte</span>[] bytes = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line"><span class="type">DatagramPacket</span> <span class="variable">dp</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DatagramPacket</span>(bytes, bytes.length);	<span class="comment">//[2]</span></span><br><span class="line">System.out.println(<span class="string">&quot;萝茵 聆听中……&quot;</span>);</span><br><span class="line">ds.receive(dp);													<span class="comment">//[3]</span></span><br><span class="line"><span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> dp.getLength();</span><br><span class="line">bytes = dp.getData();</span><br><span class="line">System.out.println(<span class="string">&quot;萝茵听到了如下内容：\n&quot;</span> + <span class="keyword">new</span> <span class="title class_">String</span>(bytes, <span class="number">0</span>, len));</span><br><span class="line">ds.close();														<span class="comment">//[4]</span></span><br></pre></td></tr></table></figure>

<ol>
<li><p><code>DatagramSocket ds = new DatagramSocket(9000);</code></p>
<p>以 9000 这个端口作为监听端口</p>
</li>
<li><p><code>DatagramPacket dp = new DatagramPacket(bytes, bytes.length);</code></p>
<p>构建 <code>DatagramPacket</code> 对象，准备接收数据</p>
</li>
<li><p><code>ds.receive(dp);	</code></p>
<p>监听信息，放到刚刚创建的 <code>DatagramPacket</code> 对象</p>
</li>
<li><p><code>ds.close()</code></p>
<p>要记得关闭呦 ★ ~</p>
</li>
</ol>
<p><strong>下面，示范一个发送端</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">System.out.println(<span class="string">&quot;萝茵，大声喊道：你好，世界！&quot;</span>);</span><br><span class="line"><span class="type">DatagramSocket</span> <span class="variable">ds</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DatagramSocket</span>(<span class="number">8000</span>);					<span class="comment">//[1]</span></span><br><span class="line"><span class="type">InetAddress</span> <span class="variable">ia</span> <span class="operator">=</span> InetAddress.getByName(serverIP);</span><br><span class="line"><span class="type">byte</span>[] bytes = <span class="string">&quot;你好，世界&quot;</span>.getBytes(StandardCharsets.UTF_8);</span><br><span class="line"><span class="type">DatagramPacket</span> <span class="variable">dp</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DatagramPacket</span>(bytes, bytes.length, ia, <span class="number">9001</span>);</span><br><span class="line">																<span class="comment">//[2]</span></span><br><span class="line">ds.send(dp);													<span class="comment">//[3]</span></span><br><span class="line">System.out.println(<span class="string">&quot;声音在虚无中回荡着……&quot;</span>);</span><br><span class="line">ds.close();														<span class="comment">//[4]</span></span><br></pre></td></tr></table></figure>

<ol>
<li><p><code>DatagramSocket ds = new DatagramSocket(8000);</code></p>
<p>以 8000 这个端口作为发送端口</p>
</li>
<li><p><code>DatagramPacket dp = new DatagramPacket(bytes, bytes.length, ia, 9001);</code></p>
<p>把要发送的数据、数据长度、对象地址、对象端口 放到包里</p>
</li>
<li><p><code>ds.send(dp);</code></p>
<p>走你 ★ ~</p>
</li>
<li><p><code>ds.close();	</code></p>
<p>鸟尽弓藏</p>
</li>
</ol>
<h2 id="附录"><a href="#附录" class="headerlink" title="附录"></a>附录</h2><h3 id="项目开发流程"><a href="#项目开发流程" class="headerlink" title="项目开发流程"></a>项目开发流程</h3><h4 id="1-需求分析"><a href="#1-需求分析" class="headerlink" title="1 需求分析"></a>1 需求分析</h4><p><strong>需求分析师（懂技术 + 懂行业）</strong></p>
<ol>
<li>需求分析报告<ul>
<li>项目功能</li>
<li>客户要求</li>
</ul>
</li>
</ol>
<h4 id="2-设计阶段"><a href="#2-设计阶段" class="headerlink" title="2 设计阶段"></a>2 设计阶段</h4><p><strong>架构师 &#x2F; 项目经理</strong></p>
<ol>
<li><p>设计工作</p>
<ul>
<li>UML 类图</li>
<li>流程图</li>
<li>模块设计</li>
<li>数据库设计</li>
<li>架构</li>
</ul>
</li>
<li><p>原型开发</p>
</li>
<li><p>组建团队</p>
</li>
</ol>
<h4 id="3-实现阶段"><a href="#3-实现阶段" class="headerlink" title="3 实现阶段"></a>3 实现阶段</h4><p><strong>程序员 &#x2F; 码农</strong></p>
<ol>
<li>完成架构师的模块功能</li>
<li>测试自己的模块</li>
</ol>
<h4 id="4-测试阶段"><a href="#4-测试阶段" class="headerlink" title="4 测试阶段"></a>4 测试阶段</h4><p><strong>测试工程师</strong></p>
<ol>
<li>单元测试</li>
<li>测试用例</li>
<li>白盒测试</li>
<li>黑盒测试</li>
<li>集成测试</li>
</ol>
<h4 id="5-实施阶段"><a href="#5-实施阶段" class="headerlink" title="5 实施阶段"></a>5 实施阶段</h4><p><strong>实施工程师（开发能力 &#x2F; 环境配置部署能力）</strong></p>
<ol>
<li>把项目正确地部署到客户的平台，并保证运行正常</li>
<li>身体好</li>
</ol>
<h4 id="6-维护阶段"><a href="#6-维护阶段" class="headerlink" title="6 维护阶段"></a>6 维护阶段</h4><ol>
<li>发现 bug 并解决</li>
<li>项目升级</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/01/12/19%20%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/" data-id="cl9a9e96y000pewtfgy79byks" data-title="&lt;Java&gt;19 网络编程" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/" rel="tag">Java</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%AC%94%E8%AE%B0/" rel="tag">笔记</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2022/01/16/20%20%E9%A1%B9%E7%9B%AE%EF%BC%9A%E5%A4%9A%E7%94%A8%E6%88%B7%E9%80%9A%E8%AE%AF%E7%B3%BB%E7%BB%9F/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          &lt;Java&gt;20 项目（多用户通讯系统）
        
      </div>
    </a>
  
  
    <a href="/2022/01/11/18%20%E9%A1%B9%E7%9B%AE%EF%BC%9A%E5%9D%A6%E5%85%8B%E5%A4%A7%E6%88%98/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">&lt;Java&gt;18 项目（坦克大战）</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java/" rel="tag">Java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%9B%AE%E5%BD%95/" rel="tag">目录</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%A8%8B%E5%BA%8F/" rel="tag">程序</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%AC%94%E8%AE%B0/" rel="tag">笔记</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Java/" style="font-size: 20px;">Java</a> <a href="/tags/%E7%9B%AE%E5%BD%95/" style="font-size: 10px;">目录</a> <a href="/tags/%E7%A8%8B%E5%BA%8F/" style="font-size: 15px;">程序</a> <a href="/tags/%E7%AC%94%E8%AE%B0/" style="font-size: 20px;">笔记</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/10/">October 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/06/">June 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/05/">May 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/04/">April 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">March 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">February 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">January 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">December 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">November 2021</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2022/10/16/hello-world/">Hello World</a>
          </li>
        
          <li>
            <a href="/2022/06/03/26%20%E7%AE%97%E6%B3%95%E5%85%A5%E9%97%A8/">&lt;Java&gt;26 算法入门</a>
          </li>
        
          <li>
            <a href="/2022/06/02/14%20%E6%A0%91/">&lt;Java&gt;14 树</a>
          </li>
        
          <li>
            <a href="/2022/05/29/13%20Java%20%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">&lt;Java&gt;13 Java 数据结构</a>
          </li>
        
          <li>
            <a href="/2022/04/22/15%20%E5%9B%BE%E5%BD%A2%E7%95%8C%E9%9D%A2%E8%AE%BE%E8%AE%A1/">&lt;Java&gt;15 图形界面设计</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2022 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>